/* --- 1. MAP & LAYOUT SETTINGS --- */
body, html {
    margin: 0;
    padding: 0;
    overflow: hidden;
}
#map { 
    width: 100vw; 
    height: 100vh; 
    height: 100dvh;
    z-index: 1; /* Map is the base layer */
    position: absolute;
    top: 0;
    left: 0;
}

/* --- 2. UI LAYOUT (DEFINITIVE FIX) --- */
/* All UI elements now simply sit on top of the map layer. No more complex pointer-events. */

#progress-container {
    pointer-events: none; /* The container itself is not clickable */
}
#progress-container > div {
    pointer-events: auto; /* But the progress bar inside it IS clickable/hoverable if needed */
}

/* --- 3. TRANSITIONS & MODALS --- */
#gatekeeper, #staff-screen, #rewardModal, #siteModal, #chatModal, #passportModal, #quizModal { 
    transition: opacity 0.3s ease; 
    z-index: 2000; /* Modals are always on top */
}

/* --- 4. ANIMATIONS --- */
@keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
.animate-bounce-up { animation: slideUp 0.3s ease-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
.animate-fade-in { animation: fadeIn 1s ease-out forwards; }
@keyframes slideUpFade { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.animate-slide-up { opacity: 0; animation: slideUpFade 0.8s ease-out 0.3s forwards; }

/* --- 5. GAMIFICATION STYLES --- */
.marker-visited {
    filter: hue-rotate(140deg) brightness(1.2) saturate(3);
    transition: filter 0.5s ease;
}
#rewardModal .text-6xl {
    animation: pulse 1s infinite;
}
@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

/* --- 6. SPECIFIC ELEMENTS --- */
#btnChat, #btnPassport, #btnRecenter {
    z-index: 1000; /* Ensure buttons are above the map */
}
